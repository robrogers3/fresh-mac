#!/usr/bin/env zsh -f


###############################################################################
# COLORS                                                                      #
###############################################################################

black='\033[0;30m'
white='\033[0;37m'
red='\033[0;31m'
green='\033[0;32m'
yellow='\033[0;33m'
blue='\033[0;34m'
magenta='\033[0;35m'
cyan='\033[0;36m'

# Resets the style
reset=`tput sgr0`

# Color-echo. Improved. [Thanks @joaocunha]
# arg $1 = message
# arg $2 = Color
cecho() {
  echo "${2}${1}${reset}"
  return
}


###############################################################################
# INSTALL OH-MY-ZSH                                                           #
###############################################################################

cecho "
Installing oh-my-zsh...
" $yellow
sleep 2

# Install oh-my-zsh
sh -c "$(curl -fsSL https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/tools/install.sh)" "" --unattended


###############################################################################
# CHANGE OMZ DEFAULT THEME                                                    #
###############################################################################

# Change oh-my-zsh theme to bira
if ! grep -Fxq "robbyrussell" ~/.zshrc; then
  sed -i "" "s|robbyrussell|bira|" ~/.zshrc
fi

###############################################################################
# ADD SOME STUFF TO RC FILE                                                   #
###############################################################################

# Add 'neofetch'to .zshrc
if ! grep -Fxq "neofetch" ~/.zshrc; then
  echo "
neofetch" >> ~/.zshrc
fi

# Add .aliases to .zshrc
if ! grep -Fxq "source ~/.aliases" ~/.zshrc; then
  echo "
source ~/.aliases" >> ~/.zshrc
fi

# Add Homebrew's "sbin" to PATH
if ! grep -Fxq 'export PATH="/usr/local/sbin:$PATH"' ~/.zshrc; then
  echo '
export PATH="/usr/local/sbin:$PATH"' >> ~/.zshrc
fi

###############################################################################
# MOVE ALIASES DOTFILE AND SOURCE IT & ZSHRC                                  #
###############################################################################

# Copy these files to ~/
cp -f .aliases $HOME

# Source these files
source $HOME/.aliases
source $HOME/.zshrc
