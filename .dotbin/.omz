#!/usr/bin/env zsh -f


# /////////////////////////////////////////////////////////////////////////////

echo "
\033[1;34m
Installing\033[0m \033[1;32moh-my-zsh...
\033[0m
"
sleep 2

# Install oh-my-zsh
sh -c "$(curl -fsSL https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/tools/install.sh)" "" --unattended

# Do these things:
# 1) Change oh-my-zsh default theme to bira
# 2) Add neofetch to .zshrc
# 3) Add line to reload .aliases file to .zshrc

#1 ////////////////////////////////////////////////
if ! grep -Fxq "robbyrussell" $HOME/.zshrc; then
  sed -i "" "s|robbyrussell|bira|" $HOME/.zshrc
fi

#2 ////////////////////////////////////////////////
if ! grep -Fxq "neofetch" $HOME/.zshrc; then
  echo "neofetch" >> $HOME/.zshrc
fi

#3 ////////////////////////////////////////////////
if ! grep -Fxq "source ~/.aliases" $HOME/.zshrc; then
  echo "source ~/.aliases" >> $HOME/.zshrc
fi

# /////////////////////////////////////////////////////////////////////////////

# Copy .aliases to Home folder
cp -f .aliases $HOME

# Reload these files
source $HOME/.aliases
source $HOME/.zshrc
sleep 2
