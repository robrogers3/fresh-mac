#!/usr/bin/env zsh -f


echo "
\033[1;34m
Installing\033[0m \033[1;32moh-my-zsh...
\033[0m
"
sleep 2

# Install oh-my-zsh
sh -c "$(curl -fsSL https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/tools/install.sh)" "" --unattended

# Change oh-my-zsh default theme to bira
if ! grep -Fxq "robbyrussell" $HOME/.zshrc; then
  sed -i "" "s|robbyrussell|bira|" $HOME/.zshrc
fi

# Uncomment
if ! grep -Fxq "# ENABLE_CORRECTION="true"" $HOME/.zshrc; then
  sed -i "" "s|# ENABLE_CORRECTION="true"|ENABLE_CORRECTION="true"|" $HOME/.zshrc
fi

# Add neofetch to .zshrc
if ! grep -Fxq "neofetch" $HOME/.zshrc; then
  echo "neofetch" >> $HOME/.zshrc
fi

# Add  line to reload .aliases file to .zshrc
if ! grep -Fxq "source ~/.aliases" $HOME/.zshrc; then
  echo "source ~/.aliases" >> $HOME/.zshrc
fi

# Copy to Home folder
cp -f .aliases $HOME

# Reload
source $HOME/.aliases
source $HOME/.zshrc
